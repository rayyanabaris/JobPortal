const bodyParser = require("body-parser");
const express = require("express");
const dbConnect = require("./config/dbConnect");
const {notFound, errorHandler} = require("./middlewares/errorHandler");
const app = express();
const dotenv = require("dotenv").config();
const PORT = process.env.PORT;
const AdminUserRouter = require("./routes/AdminUserRoute");
const JobRouter = require("./routes/JobsRoute");
const CompaniesRouter = require("./routes/CompaniesRoute");
const CandidateRoute = require("./routes/CandidateRoute");
const CarrierRoute = require("./routes/CarrierRoute");
const CitiesRoute = require("./routes/CitiesRoute");
const LocationRoute = require("./routes/LocationRoute");
const CMSRoute = require("./routes/CMSRoute");
const CMSContentRoute = require("./routes/CMSContentRoute");
const BlogRoute = require("./routes/BlogRoute");
const SEORoute = require("./routes/SEORoute");
const FAQSRoute = require("./routes/FAQSRoute");
const VideosRoute = require("./routes/VideosRoute");
const SliderRoute = require("./routes/SliderRoute");
const TestimonalsRoute = require("./routes/TestimonialsRoute");
const BlogCategoryRoute = require("./routes/BlogCategoryRoute");
const IndustriesRoute = require("./routes/IndustriesRoute");
const CountriesRoute = require("./routes/CountriesRoute");
const CurrenciesRoute = require("./routes/CurrenciesRoute");
const DegreeLevelRoute = require("./routes/DegreeLevelRoute");
const DegreeTypeRoute = require("./routes/DegreeTypeRoute");
const ResultTypeRoute = require("./routes/ResultTypeRoute");
const OwnershipTypeRoute = require("./routes/OwnershipTypeRoute");
const MaritalStatusRoute = require("./routes/MaritalStatusRoute");
const PositionRoute = require("./routes/PositionRoute");
const MajorSubjectRoute = require("./routes/MajorSubjectRoute");
const FunAreaRoute = require("./routes/FunAreaRoute");
const GenderRoute = require("./routes/GenderRoute");
const JobExpRoute = require("./routes/JobExpRoute");
const JobShiftRoute = require("./routes/JobShiftRoute");
const JobSkillsRoute = require("./routes/JobSkillsRoute");
const JobTypeRoute = require("./routes/JobTypeRoute");
const JobsCategoriesRoute = require("./routes/JobCategoriesRoute");
const SalaryPeriodRoute = require("./routes/SalaryPeriodRoute");
const StatesRoute = require("./routes/StatesRoute");
const LanguageRoute = require("./routes/LanguageRoute");
const LanguageLevelRoute = require("./routes/LanguageLevelRoute");
const ApplyJob = require("./routes/ApplyJobsRoutes");


const cookieParser = require("cookie-parser");
const morgan = require("morgan");
const cors = require("cors");

dbConnect();
app.use(morgan("dev"));
app.use(cors());
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({ extended: false }));
app.use(cookieParser());

app.use("/api/adminuser", AdminUserRouter);
app.use("/api/candidate", CandidateRoute);
app.use("/api/career", CarrierRoute);
app.use("/api/company", CompaniesRouter);
app.use("/api/cities", CitiesRoute);
app.use("/api/location", LocationRoute);
app.use("/api/cms-content", CMSContentRoute);
app.use("/api/cms", CMSRoute);
app.use("/api/blog", BlogRoute);
app.use("/api/seo", SEORoute);
app.use("/api/faqs", FAQSRoute);
app.use("/api/video", VideosRoute);
app.use("/api/slider", SliderRoute);
app.use("/api/testimonial", TestimonalsRoute);
app.use("/api/blog-category", BlogCategoryRoute);
app.use("/api/countries", CountriesRoute);
app.use("/api/industry", IndustriesRoute);
app.use("/api/currency", CurrenciesRoute);
app.use("/api/major-subject", MajorSubjectRoute);
app.use("/api/degree-level", DegreeLevelRoute);
app.use("/api/degree-type", DegreeTypeRoute);
app.use("/api/result-type", ResultTypeRoute);
app.use("/api/gender", GenderRoute);
app.use("/api/ownership-type", OwnershipTypeRoute);
app.use("/api/marital-status", MaritalStatusRoute);
app.use("/api/position", PositionRoute);
app.use("/api/functional-area", FunAreaRoute);
app.use("/api/job-experience", JobExpRoute);
app.use("/api/job-shift", JobShiftRoute);
app.use("/api/job-skills", JobSkillsRoute);
app.use("/api/job-type", JobTypeRoute);
app.use("/api/job-category", JobsCategoriesRoute);
app.use("/api/salary-period", SalaryPeriodRoute);
app.use("/api/states", StatesRoute);
app.use("/api/jobs", JobRouter);
app.use("/api/language", LanguageRoute);
app.use("/api/language-level", LanguageLevelRoute);
app.use("/api/apply", ApplyJob);


app.use(notFound);
app.use(errorHandler);
app.listen(PORT, () => {
  console.log(`Server is running  at PORT http://localhost:${PORT}`);
});
